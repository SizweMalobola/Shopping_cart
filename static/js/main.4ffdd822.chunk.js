(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var i=a(1),c=a.n(i),r=a(25),n=a.n(r),s=(a(32),a(4)),o=a(5),l=a(7),j=a(6),d=a(13),u=a(2),h=(a(33),a(0)),b=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"about-div",children:Object(h.jsx)("h1",{children:"About Us"})})}}]),a}(i.Component),g=(a(35),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"home-div",children:Object(h.jsx)("h1",{children:"Welcome Home"})})}}]),a}(i.Component)),p=a(18);a(36);var m=function(){var e=Object(i.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=(t[1],Object(i.useState)(!1)),r=Object(p.a)(c,2),n=r[0],s=(r[1],Object(i.useState)(!1)),o=Object(p.a)(s,2),l=o[0],j=(o[1],Object(u.f)());return Object(i.useEffect)((function(){var e=j.location.pathname;console.log(e)}),[j]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("nav",{id:"navbar",children:[Object(h.jsx)("div",{id:"logo-div",children:Object(h.jsx)("img",{src:"https://api.freelogodesign.org/files/14ce6bd6710045fd9be20e56c23292f3/thumb/logo_200x200.png?v=637540055620000000",alt:"little shop of horrors Logo"})}),Object(h.jsxs)("div",{id:"nav-links-div",children:[Object(h.jsx)(d.b,{to:"/home",className:a?"active-nav-link":null,children:"HOME"}),Object(h.jsx)(d.b,{to:"/shop",className:n?"active-nav-link":null,children:"SHOP"}),Object(h.jsx)(d.b,{to:"/about",className:l?"active-nav-link":null,children:"ABOUT"})]})]})})},v=a(27),O=a(19),f=a(10),y=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).state={cState:i.props.cState},i.makeId=i.makeId.bind(Object(f.a)(i)),i}return Object(o.a)(a,[{key:"makeId",value:function(e){return e.toLowerCase().split(" ").join("-")}},{key:"render",value:function(){var e=this.props,t=e.image,a=e.title,i=e.handler;return Object(h.jsxs)("div",{id:this.makeId(a),className:"card-div",children:[Object(h.jsx)("div",{style:{backgroundImage:"url(".concat("/Shopping-cart/home"+t,")")},className:"card-top"}),Object(h.jsxs)("div",{className:"card-bottom",children:[Object(h.jsx)("h1",{children:a}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"QTY:"}),Object(h.jsx)("input",{className:"quantity",type:"number",max:"3",min:"1"})]}),Object(h.jsx)("button",{className:"add-to-cart",onClick:function(e){var t=e.target.previousSibling.lastChild;if(t.value>=1){var c=e.target.parentNode.parentNode.parentNode,r=c.querySelector(".card-top");r=r.style.backgroundImage,i({title:a,id:c,quantity:parseInt(t.value),image:r.substring(5,r.length-2),price:140})}},children:"Add To Card"})]})]})]})}}]),a}(i.Component),x=a(17),k=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).state={clicked:!1},i.toggleClicked=i.toggleClicked.bind(Object(f.a)(i)),i.isEmptyRef=null,i}return Object(o.a)(a,[{key:"toggleClicked",value:function(){this.setState({clicked:!this.state.clicked})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.isEmptyRef)var t=setTimeout((function(){clearTimeout(t),e.toggleClicked()}),3e3)}},{key:"render",value:function(){var e=this,t=this.props,a=t.cartItems,i=t.removeItem;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{id:"cart",onClick:function(){return e.toggleClicked()},children:Object(h.jsxs)("h1",{children:[Object(h.jsx)(x.a,{})," ",Object(h.jsx)("span",{id:"cart-span",children:"0"})]})}),this.state.clicked&&(a.length>0?Object(h.jsx)("div",{id:"cart-container",onClick:function(t){"cart-container"===t.target.id&&e.toggleClicked()},children:Object(h.jsxs)("div",{id:"cart-inner",children:[Object(h.jsxs)("div",{id:"cart-header",children:[Object(h.jsx)("h1",{children:"Shopping Cart... Of DooM"}),Object(h.jsx)("button",{onClick:function(){e.toggleClicked()},children:Object(h.jsx)(x.b,{})})]}),Object(h.jsx)("div",{id:"cart-list",children:a.map((function(e,t){return Object(h.jsxs)("div",{className:"cart-item",children:[Object(h.jsx)("img",{className:"cart-item-image",src:"/Shopping-cart/home"+e.image,alt:"".concat(e.title," img")}),Object(h.jsx)("div",{className:"cart-item-title",children:Object(h.jsx)("span",{className:"cart-item-name",children:e.title})}),Object(h.jsxs)("div",{className:"cart-item-details",children:[Object(h.jsxs)("span",{className:"cart-item-price",children:["Price : R ",e.price]}),Object(h.jsxs)("span",{className:"cart-item-quantity",children:["Qty : ",e.quantity]})]}),Object(h.jsxs)("button",{className:"cart-item-remove",onClick:function(){console.log(t),i(t)},children:["Remove ",Object(h.jsx)(x.c,{})]})]},t)}))}),Object(h.jsxs)("div",{id:"cart-footer",children:[Object(h.jsxs)("h1",{children:["Total"," ",Object(h.jsxs)("span",{children:[": R"," ",a.reduce((function(e,t){return e+t.quantity*t.price}),0)]})]}),Object(h.jsx)("button",{id:"checkout-btn",children:"proceed to checkout"})]})]})}):Object(h.jsx)("div",{id:"cart-empty",ref:function(t){return e.isEmptyRef=t},onClick:function(){e.toggleClicked()},children:Object(h.jsx)("h3",{children:"Your Cart is Empty"})}))]})}}]),a}(i.Component),C=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).state={},i}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"shop-grid-div",children:this.props.children})}}]),a}(i.Component),S=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).state={},i}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.activationHandler;return Object(h.jsxs)("div",{id:"shop-nav-div",children:[Object(h.jsx)("button",{disabled:!0,children:"Choose Tag"}),Object(h.jsx)("button",{id:"nav-btn-active",onClick:function(t){e(t.target)},children:"All"}),Object(h.jsx)("button",{onClick:function(t){e(t.target)},children:"Gore"}),Object(h.jsx)("button",{onClick:function(t){e(t.target)},children:"Slasher"}),Object(h.jsx)("button",{onClick:function(t){e(t.target)},children:"Foreign"})]})}}]),a}(i.Component),A=(a(42),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).state={cartArray:[],tag:"all",moviesArray:[{tag:["gore"],price:145,title:"Army Of Darkness",image:"/assets/army-of-darkness.jpeg"},{tag:[],price:145,title:"Cabinet Of Dr Caligari",image:"/assets/cabinet-of-dr-caligari.jpeg"},{tag:[],price:145,title:"Carrie",image:"/assets/carrie.jpeg"},{tag:["slasher"],price:145,title:"Childs Play",image:"/assets/childs-play.jpeg"},{tag:["gore"],price:145,title:"Evil Dead 2",image:"/assets/evil-dead-2.jpeg"},{tag:["gore"],price:145,title:"From Beyond",image:"/assets/from-beyond.png"},{tag:["slasher"],price:145,title:"Helloween",image:"/assets/helloween.jpeg"},{tag:["gore"],price:145,title:"Hellraiser",image:"/assets/hellraiser.jpeg"},{tag:[],price:145,title:"I Spit On Your Grave",image:"/assets/i-spit-on-your-grave.jpeg"},{tag:[],price:145,title:"The Blair Witch Project",image:"/assets/the-blair-witch-project.jpeg"},{tag:["gore"],price:145,title:"The Evil Dead",image:"/assets/the-evil-dead.jpeg"},{tag:["gore"],price:145,title:"The Hills Have Eyes",image:"/assets/the-hills-have-eyes.png"},{tag:[],price:145,title:"The Texas Chainsaw Massacre",image:"/assets/the-texas-chainsaw-massacre.jpeg"},{tag:["foreign"],price:145,title:"Ringu",image:"/assets/ringu.jpeg"},{tag:[],price:145,title:"Rosemary's Baby",image:"/assets/rosemarys-baby.jpeg"},{tag:["foreign"],price:145,title:"Suspiria",image:"/assets/suspiria.jpeg"},{tag:[],price:145,title:"The Wicker Man",image:"/assets/the-wicker-man.jpeg"},{tag:["gore"],price:145,title:"Videodrome",image:"/assets/videodrome.jpeg"},{tag:["gore","foreign"],price:145,title:"Rec",image:"/assets/rec.jpeg"},{tag:["gore","slasher"],price:145,title:"Sleepaway Camp",image:"/assets/sleepaway-camp.jpeg"}]},i.getObj=i.getObj.bind(Object(f.a)(i)),i.updateCart=i.updateCart.bind(Object(f.a)(i)),i.removeCartItem=i.removeCartItem.bind(Object(f.a)(i)),i.activateShopNav=i.activateShopNav.bind(Object(f.a)(i)),i.cartLocalStorage=i.cartLocalStorage.bind(Object(f.a)(i)),i}return Object(o.a)(a,[{key:"getObj",value:function(e){var t=this;this.state.cartArray.length>0?this.state.cartArray.forEach((function(a,i){if(a.title===e.title)if(3===a.quantity);else if(a.quantity+e.quantity<=3){var c=Object(O.a)(t.state.cartArray),r=Object(v.a)({},c[i]);r.quantity+=e.quantity,c[i]=r,t.setState((function(e){return{cartArray:c}}))}else a.quantity+e.quantity>3&&t.setState((function(e){e.cartArray[i].quantity=3}));else i===t.state.cartArray.length-1&&t.setState({cartArray:[].concat(Object(O.a)(t.state.cartArray),[e])})})):this.setState({cartArray:[].concat(Object(O.a)(this.state.cartArray),[e])})}},{key:"cartLocalStorage",value:function(){var e=this.state.cartArray,t=JSON.stringify(e,function(){var e=new WeakSet;return function(t,a){if("object"===typeof a&&null!==a){if(e.has(a))return;e.add(a)}return a}}());localStorage.setItem("cart",t)}},{key:"updateCart",value:function(){document.querySelector("#cart-span").innerText=this.state.cartArray.length,console.log(this.state.cartArray)}},{key:"removeCartItem",value:function(e){var t=this.state.cartArray,a=t.splice(e,1);this.setState({cartArray:t}),console.log("item ".concat(a.title," was removed"))}},{key:"activateShopNav",value:function(e){document.querySelector("#shop-nav-div").querySelectorAll("button").forEach((function(t){t.matches("#nav-btn-active")&&t.removeAttribute("id"),e.setAttribute("id","nav-btn-active")}));var t=e.innerText.toLowerCase();this.setState({tag:t})}},{key:"componentDidMount",value:function(){console.log("componentDidMount");var e=localStorage.getItem("cart");this.setState({cartArray:JSON.parse(e)})}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate"),this.updateCart()}},{key:"componentWillUnmount",value:function(){this.cartLocalStorage(),console.log("stored")}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"shop-div",children:[Object(h.jsx)(k,{removeItem:this.removeCartItem,cartItems:this.state.cartArray}),Object(h.jsx)(S,{activationHandler:this.activateShopNav}),Object(h.jsx)(C,{children:this.state.moviesArray.filter((function(t){return"all"===e.state.tag?t:!t.tag.indexOf(e.state.tag)})).map((function(t,a){return Object(h.jsx)(y,{handler:e.getObj,title:t.title,image:t.image},a)}))})]})}}]),a}(i.Component)),N=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).state={},i}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"container",children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)(m,{}),Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{path:"/home",exact:!0,component:g}),Object(h.jsx)(u.a,{path:"/shop",exact:!0,component:A}),Object(h.jsx)(u.a,{path:"/about",exact:!0,component:b})]})]})})}}]),a}(i.Component),I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),i(e),c(e),r(e),n(e)}))};n.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root")),I()}},[[43,1,2]]]);
//# sourceMappingURL=main.4ffdd822.chunk.js.map