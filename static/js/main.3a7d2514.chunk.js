(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{32:function(t,e,a){},33:function(t,e,a){},35:function(t,e,a){},36:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){"use strict";a.r(e);var i=a(1),c=a.n(i),r=a(25),n=a.n(r),s=(a(32),a(4)),o=a(5),l=a(7),j=a(6),d=a(13),u=a(2),b=(a(33),a(0)),h=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{id:"about-div",children:Object(b.jsx)("h1",{children:"About Us"})})}}]),a}(i.Component),g=(a(35),function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{id:"home-div",children:Object(b.jsx)("h1",{children:"Welcome Home"})})}}]),a}(i.Component)),p=a(18);a(36);var m=function(){var t=Object(i.useState)(!1),e=Object(p.a)(t,2),a=e[0],c=(e[1],Object(i.useState)(!1)),r=Object(p.a)(c,2),n=r[0],s=(r[1],Object(i.useState)(!1)),o=Object(p.a)(s,2),l=o[0],j=(o[1],Object(u.f)());return Object(i.useEffect)((function(){var t=j.location.pathname;console.log(t)}),[j]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("nav",{id:"navbar",children:[Object(b.jsx)("div",{id:"logo-div",children:Object(b.jsx)("img",{src:"https://api.freelogodesign.org/files/14ce6bd6710045fd9be20e56c23292f3/thumb/logo_200x200.png?v=637540055620000000",alt:"little shop of horrors Logo"})}),Object(b.jsxs)("div",{id:"nav-links-div",children:[Object(b.jsx)(d.b,{to:"/",className:a?"active-nav-link":null,children:"HOME"}),Object(b.jsx)(d.b,{to:"/shop",className:n?"active-nav-link":null,children:"SHOP"}),Object(b.jsx)(d.b,{to:"/about",className:l?"active-nav-link":null,children:"ABOUT"})]})]})})},v=a(27),O=a(19),f=a(10),y=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var i;return Object(s.a)(this,a),(i=e.call(this,t)).state={cState:i.props.cState},i.makeId=i.makeId.bind(Object(f.a)(i)),i}return Object(o.a)(a,[{key:"makeId",value:function(t){return t.toLowerCase().split(" ").join("-")}},{key:"render",value:function(){var t=this.props,e=t.image,a=t.title,i=t.handler;return Object(b.jsxs)("div",{id:this.makeId(a),className:"card-div",children:[Object(b.jsx)("div",{style:{backgroundImage:"url(".concat("/Shopping-cart"+e,")")},className:"card-top"}),Object(b.jsxs)("div",{className:"card-bottom",children:[Object(b.jsx)("h1",{children:a}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"QTY:"}),Object(b.jsx)("input",{className:"quantity",type:"number",max:"3",min:"1"})]}),Object(b.jsx)("button",{className:"add-to-cart",onClick:function(t){var e=t.target.previousSibling.lastChild;if(e.value>=1){var c=t.target.parentNode.parentNode.parentNode,r=c.querySelector(".card-top");r=r.style.backgroundImage,i({title:a,id:c,quantity:parseInt(e.value),image:r.substring(5,r.length-2),price:140})}},children:"Add To Card"})]})]})]})}}]),a}(i.Component),x=a(17),k=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var i;return Object(s.a)(this,a),(i=e.call(this,t)).state={clicked:!1},i.toggleClicked=i.toggleClicked.bind(Object(f.a)(i)),i.isEmptyRef=null,i}return Object(o.a)(a,[{key:"toggleClicked",value:function(){this.setState({clicked:!this.state.clicked})}},{key:"componentDidUpdate",value:function(){var t=this;if(this.isEmptyRef)var e=setTimeout((function(){clearTimeout(e),t.toggleClicked()}),3e3)}},{key:"render",value:function(){var t=this,e=this.props,a=e.cartItems,i=e.removeItem;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{id:"cart",onClick:function(){return t.toggleClicked()},children:Object(b.jsxs)("h1",{children:[Object(b.jsx)(x.a,{})," ",Object(b.jsx)("span",{id:"cart-span",children:"0"})]})}),this.state.clicked&&(a.length>0?Object(b.jsx)("div",{id:"cart-container",onClick:function(e){"cart-container"===e.target.id&&t.toggleClicked()},children:Object(b.jsxs)("div",{id:"cart-inner",children:[Object(b.jsxs)("div",{id:"cart-header",children:[Object(b.jsx)("h1",{children:"Shopping Cart... Of DooM"}),Object(b.jsx)("button",{onClick:function(){t.toggleClicked()},children:Object(b.jsx)(x.b,{})})]}),Object(b.jsx)("div",{id:"cart-list",children:a.map((function(t,e){return Object(b.jsxs)("div",{className:"cart-item",children:[Object(b.jsx)("img",{className:"cart-item-image",src:"/Shopping-cart"+t.image,alt:"".concat(t.title," img")}),Object(b.jsx)("div",{className:"cart-item-title",children:Object(b.jsx)("span",{className:"cart-item-name",children:t.title})}),Object(b.jsxs)("div",{className:"cart-item-details",children:[Object(b.jsxs)("span",{className:"cart-item-price",children:["Price : R ",t.price]}),Object(b.jsxs)("span",{className:"cart-item-quantity",children:["Qty : ",t.quantity]})]}),Object(b.jsxs)("button",{className:"cart-item-remove",onClick:function(){console.log(e),i(e)},children:["Remove ",Object(b.jsx)(x.c,{})]})]},e)}))}),Object(b.jsxs)("div",{id:"cart-footer",children:[Object(b.jsxs)("h1",{children:["Total"," ",Object(b.jsxs)("span",{children:[": R"," ",a.reduce((function(t,e){return t+e.quantity*e.price}),0)]})]}),Object(b.jsx)("button",{id:"checkout-btn",children:"proceed to checkout"})]})]})}):Object(b.jsx)("div",{id:"cart-empty",ref:function(e){return t.isEmptyRef=e},onClick:function(){t.toggleClicked()},children:Object(b.jsx)("h3",{children:"Your Cart is Empty"})}))]})}}]),a}(i.Component),C=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var i;return Object(s.a)(this,a),(i=e.call(this,t)).state={},i}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{id:"shop-grid-div",children:this.props.children})}}]),a}(i.Component),S=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var i;return Object(s.a)(this,a),(i=e.call(this,t)).state={},i}return Object(o.a)(a,[{key:"render",value:function(){var t=this.props.activationHandler;return Object(b.jsxs)("div",{id:"shop-nav-div",children:[Object(b.jsx)("button",{disabled:!0,children:"Choose Tag"}),Object(b.jsx)("button",{id:"nav-btn-active",onClick:function(e){t(e.target)},children:"All"}),Object(b.jsx)("button",{onClick:function(e){t(e.target)},children:"Gore"}),Object(b.jsx)("button",{onClick:function(e){t(e.target)},children:"Slasher"}),Object(b.jsx)("button",{onClick:function(e){t(e.target)},children:"Foreign"})]})}}]),a}(i.Component),A=(a(42),function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var i;return Object(s.a)(this,a),(i=e.call(this,t)).state={cartArray:[],tag:"all",moviesArray:[{tag:["gore"],price:145,title:"Army Of Darkness",image:"/assets/army-of-darkness.jpeg"},{tag:[],price:145,title:"Cabinet Of Dr Caligari",image:"/assets/cabinet-of-dr-caligari.jpeg"},{tag:[],price:145,title:"Carrie",image:"/assets/carrie.jpeg"},{tag:["slasher"],price:145,title:"Childs Play",image:"/assets/childs-play.jpeg"},{tag:["gore"],price:145,title:"Evil Dead 2",image:"/assets/evil-dead-2.jpeg"},{tag:["gore"],price:145,title:"From Beyond",image:"/assets/from-beyond.png"},{tag:["slasher"],price:145,title:"Helloween",image:"/assets/helloween.jpeg"},{tag:["gore"],price:145,title:"Hellraiser",image:"/assets/hellraiser.jpeg"},{tag:[],price:145,title:"I Spit On Your Grave",image:"/assets/i-spit-on-your-grave.jpeg"},{tag:[],price:145,title:"The Blair Witch Project",image:"/assets/the-blair-witch-project.jpeg"},{tag:["gore"],price:145,title:"The Evil Dead",image:"/assets/the-evil-dead.jpeg"},{tag:["gore"],price:145,title:"The Hills Have Eyes",image:"/assets/the-hills-have-eyes.png"},{tag:[],price:145,title:"The Texas Chainsaw Massacre",image:"/assets/the-texas-chainsaw-massacre.jpeg"},{tag:["foreign"],price:145,title:"Ringu",image:"/assets/ringu.jpeg"},{tag:[],price:145,title:"Rosemary's Baby",image:"/assets/rosemarys-baby.jpeg"},{tag:["foreign"],price:145,title:"Suspiria",image:"/assets/suspiria.jpeg"},{tag:[],price:145,title:"The Wicker Man",image:"/assets/the-wicker-man.jpeg"},{tag:["gore"],price:145,title:"Videodrome",image:"/assets/videodrome.jpeg"},{tag:["gore","foreign"],price:145,title:"Rec",image:"/assets/rec.jpeg"},{tag:["gore","slasher"],price:145,title:"Sleepaway Camp",image:"/assets/sleepaway-camp.jpeg"}]},i.getObj=i.getObj.bind(Object(f.a)(i)),i.updateCart=i.updateCart.bind(Object(f.a)(i)),i.removeCartItem=i.removeCartItem.bind(Object(f.a)(i)),i.activateShopNav=i.activateShopNav.bind(Object(f.a)(i)),i.cartLocalStorage=i.cartLocalStorage.bind(Object(f.a)(i)),i}return Object(o.a)(a,[{key:"getObj",value:function(t){var e=this;this.state.cartArray.length>0?this.state.cartArray.forEach((function(a,i){if(a.title===t.title)if(3===a.quantity);else if(a.quantity+t.quantity<=3){var c=Object(O.a)(e.state.cartArray),r=Object(v.a)({},c[i]);r.quantity+=t.quantity,c[i]=r,e.setState((function(t){return{cartArray:c}}))}else a.quantity+t.quantity>3&&e.setState((function(t){t.cartArray[i].quantity=3}));else i===e.state.cartArray.length-1&&e.setState({cartArray:[].concat(Object(O.a)(e.state.cartArray),[t])})})):this.setState({cartArray:[].concat(Object(O.a)(this.state.cartArray),[t])})}},{key:"cartLocalStorage",value:function(){var t=this.state.cartArray,e=JSON.stringify(t,function(){var t=new WeakSet;return function(e,a){if("object"===typeof a&&null!==a){if(t.has(a))return;t.add(a)}return a}}());localStorage.setItem("cart",e)}},{key:"updateCart",value:function(){document.querySelector("#cart-span").innerText=this.state.cartArray.length,console.log(this.state.cartArray)}},{key:"removeCartItem",value:function(t){var e=this.state.cartArray,a=e.splice(t,1);this.setState({cartArray:e}),console.log("item ".concat(a.title," was removed"))}},{key:"activateShopNav",value:function(t){document.querySelector("#shop-nav-div").querySelectorAll("button").forEach((function(e){e.matches("#nav-btn-active")&&e.removeAttribute("id"),t.setAttribute("id","nav-btn-active")}));var e=t.innerText.toLowerCase();this.setState({tag:e})}},{key:"componentDidMount",value:function(){console.log("componentDidMount");var t=localStorage.getItem("cart");this.setState({cartArray:JSON.parse(t)})}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate"),this.updateCart()}},{key:"componentWillUnmount",value:function(){this.cartLocalStorage(),console.log("stored")}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{id:"shop-div",children:[Object(b.jsx)(k,{removeItem:this.removeCartItem,cartItems:this.state.cartArray}),Object(b.jsx)(S,{activationHandler:this.activateShopNav}),Object(b.jsx)(C,{children:this.state.moviesArray.filter((function(e){return"all"===t.state.tag?e:!e.tag.indexOf(t.state.tag)})).map((function(e,a){return Object(b.jsx)(y,{handler:t.getObj,title:e.title,image:e.image},a)}))})]})}}]),a}(i.Component)),N=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var i;return Object(s.a)(this,a),(i=e.call(this,t)).state={},i}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{id:"container",children:Object(b.jsxs)(d.a,{basename:"/Shopping-cart",children:[Object(b.jsx)(m,{}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",exact:!0,component:g}),Object(b.jsx)(u.a,{path:"/shop",exact:!0,component:A}),Object(b.jsx)(u.a,{path:"/about",exact:!0,component:h})]})]})})}}]),a}(i.Component),I=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(e){var a=e.getCLS,i=e.getFID,c=e.getFCP,r=e.getLCP,n=e.getTTFB;a(t),i(t),c(t),r(t),n(t)}))};n.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),I()}},[[43,1,2]]]);
//# sourceMappingURL=main.3a7d2514.chunk.js.map